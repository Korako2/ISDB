<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Address Selection Form</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/css/select2.min.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/js/select2.min.js"></script>
</head>
<body>

<form action="#" th:action="@{submitAddressForm}" method="post">
    <div>
        <label for="delivery">Delivery Address:</label>
        <select id="delivery" name="delivery" class="address-dropdown">
            <option th:each="address : ${allAddresses}"
                    th:value="${address.id}"
                    th:text="${address.name}"></option>
        </select>
    </div>

    <div>
        <label for="departure">Departure Address:</label>
        <select id="departure" name="departure" class="address-dropdown">
            <option th:each="address : ${allAddresses}"
                    th:value="${address.id}"
                    th:text="${address.name}"></option>
        </select>
    </div>

    <button type="submit">Next</button>
</form>

<script>
    $(document).ready(function () {
        $('.address-dropdown').select2();
    });
</script>

</body>
</html>
